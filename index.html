<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8"/>
  <title>Bot Kart – Gemini 1.5 Flash (grátis)</title>
  <style>
    body{font-family:Arial;padding:20px;max-width:700px;margin:auto}
    #chat{height:300px;border:1px solid #ccc;padding:10px;overflow-y:scroll;background:#f9f9f9}
    input{width:75%;padding:6px}
    button{padding:6px}
  </style>
</head>
<body>

<h2>Bot Kart Portugal – Gemini 1.5 Flash (grátis)</h2>
<div id="chat"></div>
<input id="q" placeholder="Ex: O que acontece se ultrapassar pela linha amarela?"/>
<button onclick="ask()">Enviar</button>

<script>
async function ask(){
  const q = document.getElementById("q").value.trim();
  if(!q) return;
  const box = document.getElementById("chat");
  box.innerHTML += `<b>Tu:</b> ${q}<br>`;
  box.innerHTML += `<i>A pensar…</i><br>`;
  document.getElementById("q").value="";
  box.scrollTop = box.scrollHeight;

  try{
    const res = await fetch(
      "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=AIzaSyB02zt1TuvDGdvYotIrmfHYr_veKvjVuNg",
      {
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({
          contents:[{parts:[{text:q}]}]
        })
      }
    );
    const data = await res.json();
    const ans = data.candidates[0].content.parts[0].text;
    box.lastElementChild.remove(); // tira “A pensar…”
    box.innerHTML += `<b>Gemini:</b> ${ans}<br>`;
    box.scrollTop = box.scrollHeight;
  }catch(e){
    box.lastElementChild.remove();
    box.innerHTML += `<b>Erro:</b> ${e.message}<br>`;
  }
}
</script>

</body>
</html>
